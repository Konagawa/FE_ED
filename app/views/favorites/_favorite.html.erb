<%= turbo_frame_tag dom_id(post, :favorite) do %>
  <% if post.favorited_by?(current_user) %>
    <%= button_to micropost_favorites_path(post), method: :delete, form: { data: { turbo_frame: dom_id(post, :favorite) } } do %>
      <i class="fas fa-heart text-lg" aria-hidden="true" style="color: red;"></i>
      <%= post.favorites.count %>
    <% end %>
  <% else %>
    <%= button_to micropost_favorites_path(post), method: :post, form: { data: { turbo_frame: dom_id(post, :favorite) } } do %>
      <i class="fas fa-heart text-lg" aria-hidden="true"></i>
      <%= post.favorites.count %>
    <% end %>
  <% end %>
<% end %>
